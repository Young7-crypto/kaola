<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>三角洲行动估价器</title>
    <style>
        body {
            font-family: '微软雅黑', Arial, sans-serif;
            background: linear-gradient(135deg, #e0e7ff 0%, #f5f6fa 100%);
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 700px;
            margin: 60px auto;
            background: #fff;
            border-radius: 18px;
            box-shadow: 0 4px 24px rgba(0,0,0,0.10);
            padding: 36px 48px 28px 48px;
            transition: box-shadow 0.2s;
        }
        .container:hover {
            box-shadow: 0 8px 32px rgba(0,0,0,0.13);
        }
        h2 {
            text-align: center;
            margin-bottom: 36px;
            color: #2a2a2a;
            letter-spacing: 2px;
        }
        .form-group {
            margin-bottom: 26px;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 6px;
        }
        label {
            min-width: 110px;
            font-size: 16px;
            color: #333;
            font-weight: 500;
            margin-bottom: 2px;
        }
        select, input[type="number"] {
            width: 100%;
            box-sizing: border-box;
            padding: 10px 14px;
            border: 1.5px solid #bfc7d1;
            border-radius: 8px;
            font-size: 16px;
            margin-left: 0;
            background: #f8faff;
            transition: border 0.2s;
            margin-bottom: 2px;
        }
        select:focus, input[type="number"]:focus {
            border: 1.5px solid #6c63ff;
            outline: none;
        }
        /* 新增：横向排列的皮肤选项 */
        .skin-checkbox-list,
        .knife-checkbox-list,
        .character-checkbox-list,
        .special-checkbox-list,
        .ornament-checkbox-list,
        .extra-checkbox-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
            width: 100%;
        }
        /* 桌面端横向排列 */
        @media (min-width: 800px) {
            .skin-checkbox-list,
            .knife-checkbox-list,
            .character-checkbox-list,
            .special-checkbox-list,
            .ornament-checkbox-list,
            .extra-checkbox-list {
                flex-direction: row;
                flex-wrap: wrap;
                gap: 14px 32px;
            }
            .skin-checkbox-list label,
            .knife-checkbox-list label,
            .character-checkbox-list label,
            .special-checkbox-list label,
            .ornament-checkbox-list label,
            .extra-checkbox-list label {
                min-width: 160px;
                flex: 0 0 22%;
                margin-bottom: 0;
            }
        }
        .skin-checkbox-list label,
        .knife-checkbox-list label,
        .character-checkbox-list label,
        .special-checkbox-list label,
        .ornament-checkbox-list label,
        .extra-checkbox-list label {
            display: flex;
            align-items: center;
            background: #f3f6fd;
            border-radius: 6px;
            padding: 7px 12px;
            font-size: 15px;
            color: #444;
            cursor: pointer;
            transition: background 0.2s;
            margin-bottom: 6px;
        }
        .skin-checkbox-list label:hover,
        .knife-checkbox-list label:hover,
        .character-checkbox-list label:hover,
        .special-checkbox-list label:hover,
        .ornament-checkbox-list label:hover,
        .extra-checkbox-list label:hover {
            background: #e0e7ff;
        }
        .skin-checkbox-list input[type="checkbox"],
        .knife-checkbox-list input[type="checkbox"],
        .character-checkbox-list input[type="checkbox"],
        .ornament-checkbox-list input[type="checkbox"],
        .extra-checkbox-list input[type="checkbox"] {
            accent-color: #6c63ff;
            margin-right: 10px;
            width: 18px;
            height: 18px;
        }
        .special-checkbox-list input[type="radio"] {
            accent-color: #6c63ff;
            margin-right: 10px;
            width: 18px;
            height: 18px;
        }
        .result {
            text-align: center;
            font-size: 24px;
            color: #fff;
            background: linear-gradient(90deg, #6c63ff 0%, #4f8cff 100%);
            border-radius: 10px;
            margin-top: 30px;
            padding: 18px 0 14px 0;
            font-weight: bold;
            letter-spacing: 1px;
            box-shadow: 0 2px 8px rgba(76, 99, 255, 0.08);
        }
        @media (max-width: 600px) {
            .container {
                max-width: 98vw;
                margin: 18px 2vw;
                padding: 18px 6vw 18px 6vw;
            }
            h2 {
                font-size: 22px;
            }
            .form-group label {
                min-width: 90px;
                font-size: 15px;
            }
            .result {
                font-size: 18px;
                padding: 12px 0 10px 0;
            }
            .skin-checkbox-list label,
            .knife-checkbox-list label,
            .character-checkbox-list label,
            .special-checkbox-list label,
            .ornament-checkbox-list label,
            .extra-checkbox-list label {
                min-width: unset;
                flex: unset;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>三角洲行动估价器</h2>
        <div class="form-group">
            <label for="value-range">仓库价值</label>
            <select id="value-range">
                <option value="15-50">15-50M</option>
                <option value="50-100">50-100M</option>
                <option value="100+">100M以上</option>
            </select>
        </div>
        <div class="form-group">
            <label for="exact-value">具体仓库价值</label>
            <input type="number" id="exact-value" placeholder="如100M" min="15" step="1">
        </div>
        <div class="form-group">
            <label style="align-self: flex-start;">典藏皮肤：</label>
            <div class="skin-checkbox-list">
                <label><input type="checkbox" class="skin-checkbox" value="SCAR电玩高手"> SCAR电玩高手</label>
                <label><input type="checkbox" class="skin-checkbox" value="Vector美杜莎"> Vector美杜莎</label>
                <label><input type="checkbox" class="skin-checkbox" value="M4A1棱镜攻势"> M4A1棱镜攻势</label>
                <label><input type="checkbox" class="skin-checkbox" value="K416命运王牌"> K416命运王牌</label>
                <label><input type="checkbox" class="skin-checkbox" value="QBZ95王牌之剑"> QBZ95王牌之剑</label>
            </div>
            <div style="font-size: 12px; color: #888; margin: 6px 0 0 0; line-height: 1.4; width: 100%;">（仅极品S以下，特殊模板自行计算）</div>
        </div>
        <div class="form-group">
            <label style="align-self: flex-start;">刀皮：</label>
            <div class="knife-checkbox-list">
                <label><input type="checkbox" class="knife-checkbox" value="赤枭"> 赤枭</label>
                <label><input type="checkbox" class="knife-checkbox" value="怜悯"> 怜悯</label>
                <label><input type="checkbox" class="knife-checkbox" value="影锋"> 影锋</label>
                <label><input type="checkbox" class="knife-checkbox" value="黑海"> 黑海</label>
                <label><input type="checkbox" class="knife-checkbox" value="北极星"> 北极星</label>
            </div>
        </div>
        <div class="form-group">
            <label style="align-self: flex-start;">人物皮肤：</label>
            <div class="character-checkbox-list">
                <label><input type="checkbox" class="character-checkbox" value="骇爪-水墨云图"> 骇爪-水墨云图</label>
                <label><input type="checkbox" class="character-checkbox" value="红狼-蚀金玫瑰"> 红狼-蚀金玫瑰</label>
                <label><input type="checkbox" class="character-checkbox" value="蜂医-危险物质"> 蜂医-危险物质</label>
                <label><input type="checkbox" class="character-checkbox" value="威龙-蛟龙特战队"> 威龙-蛟龙特战队</label>
                <label><input type="checkbox" class="character-checkbox" value="威龙-飞虎"> 威龙-飞虎</label>
                <label><input type="checkbox" class="character-checkbox" value="威龙-铁面判官(通行证)"> 威龙-铁面判官(通行证)</label>
                <label><input type="checkbox" class="character-checkbox" value="牧羊人-街头之王(通行证)"> 牧羊人-街头之王(通行证)</label>
                <label><input type="checkbox" class="character-checkbox" value="无名-夜鹰(通行证)"> 无名-夜鹰(通行证)</label>
                <label><input type="checkbox" class="character-checkbox" value="威龙-壮志凌云(通行证)"> 威龙-壮志凌云(通行证)</label>
            </div>
        </div>
        <div class="form-group">
            <label style="align-self: flex-start;">特勤处：</label>
            <div class="special-checkbox-list">
                <label><input type="checkbox" class="special-checkbox" value="特勤处全满"> 特勤处全满</label>
                <label><input type="checkbox" class="special-checkbox" value="满仓(10级仓库)"> 满仓(10级仓库)</label>
                <label><input type="checkbox" class="special-checkbox" value="满体（7体）"> 满体（7体）</label>
                <label><input type="checkbox" class="special-checkbox" value="6级体力"> 6级体力</label>
            </div>
        </div>
        <div class="form-group">
            <label style="align-self: flex-start;">典藏挂饰：</label>
            <div class="ornament-checkbox-list">
                <label><input type="checkbox" class="ornament-checkbox" value="毁灭之源3S"> 毁灭之源3S</label>
                <label><input type="checkbox" class="ornament-checkbox" value="毁灭之源2S"> 毁灭之源2S</label>
            </div>
        </div>
        <div class="form-group">
            <label style="align-self: flex-start;">额外选项：</label>
            <div class="extra-checkbox-list">
                <label><input type="checkbox" class="extra-checkbox" value="3x3保险箱" id="safe-checkbox"> 3X3保险箱</label>
                <div id="safe-value-group" style="display:none; margin-left:28px; margin-top:6px; width:90%;">
                    <label for="safe-value" style="font-size:14px; color:#666;">增加价值</label>
                    <input type="number" id="safe-value" placeholder="输入增加金额" min="0" step="1" style="width:100%;">
                </div>
                <label><input type="checkbox" class="extra-checkbox" value="满级60级" id="max60-checkbox"> 满级60级（且没有刀皮红皮）</label>
            </div>
        </div>
        <div class="result" id="estimate-result">估算价格：0 元</div>
    </div>
    <script>
        const valueRange = document.getElementById('value-range');
        const exactValue = document.getElementById('exact-value');
        const result = document.getElementById('estimate-result');
        const skinCheckboxes = document.querySelectorAll('.skin-checkbox');
        const knifeCheckboxes = document.querySelectorAll('.knife-checkbox');
        const characterCheckboxes = document.querySelectorAll('.character-checkbox');
        const specialCheckboxes = document.querySelectorAll('.special-checkbox');
        const ornamentCheckboxes = document.querySelectorAll('.ornament-checkbox');
        const safeCheckbox = document.getElementById('safe-checkbox');
        const safeValueGroup = document.getElementById('safe-value-group');
        const safeValueInput = document.getElementById('safe-value');
        const max60Checkbox = document.getElementById('max60-checkbox');

        function getRate(range) {
            if (range === '15-50') return 4.0;
            if (range === '50-100') return 3.5;
            if (range === '100+') return 3.3;
            return 0;
        }

        function updateEstimate() {
            const range = valueRange.value;
            const value = parseFloat(exactValue.value);
            const rate = getRate(range);
            let min = 0, max = Infinity;
            if (range === '15-50') {
                min = 15; max = 50;
            } else if (range === '50-100') {
                min = 50; max = 100;
            } else if (range === '100+') {
                min = 100; max = Infinity;
            }
            // 统计勾选的皮肤数量
            let skinCount = 0;
            document.querySelectorAll('.skin-checkbox').forEach(cb => {
                if (cb.checked) skinCount++;
            });
            // 统计刀皮加价
            let knifeAdd = 0;
            document.querySelectorAll('.knife-checkbox').forEach(cb => {
                if (cb.checked) {
                    if (cb.value === '赤枭') knifeAdd += 400;
                    if (cb.value === '怜悯') knifeAdd += 800;
                    if (cb.value === '影锋') knifeAdd += 600;
                    if (cb.value === '黑海') knifeAdd += 300;
                    if (cb.value === '北极星') knifeAdd += 300;
                }
            });
            // 统计人物皮肤加价
            let characterAdd = 0;
            document.querySelectorAll('.character-checkbox').forEach(cb => {
                if (cb.checked) {
                    if (cb.value === '骇爪-水墨云图') characterAdd += 550;
                    if (cb.value === '红狼-蚀金玫瑰') characterAdd += 550;
                    if (cb.value === '蜂医-危险物质') characterAdd += 200;
                    if (cb.value === '威龙-蛟龙特战队') characterAdd += 20;
                    if (cb.value === '威龙-飞虎') characterAdd += 20;
                    if (cb.value === '威龙-铁面判官(通行证)') characterAdd += 20;
                    if (cb.value === '牧羊人-街头之王(通行证)') characterAdd += 20;
                    if (cb.value === '无名-夜鹰(通行证)') characterAdd += 20;
                    if (cb.value === '威龙-壮志凌云(通行证)') characterAdd += 20;
                }
            });
            if (!isNaN(value) && value > 0) {
                if (value < min || value > max) {
                    result.textContent = '填写最大/最小值错误，请重新填写';
                } else {
                    const price = value * rate + skinCount * 100 + knifeAdd + characterAdd;
                    // 新增特勤处加价（多选累加）
                    let specialAdd = 0;
                    document.querySelectorAll('.special-checkbox').forEach(cb => {
                        if (cb.checked) {
                            if (cb.value === '特勤处全满') specialAdd += 200;
                            if (cb.value === '满仓(10级仓库)') specialAdd += 100;
                            if (cb.value === '满体（7体）') specialAdd += 50;
                            if (cb.value === '6级体力') specialAdd += 25;
                        }
                    });
                    // 新增典藏挂饰加价
                    let ornamentAdd = 0;
                    document.querySelectorAll('.ornament-checkbox').forEach(cb => {
                        if (cb.checked) {
                            if (cb.value === '毁灭之源3S') ornamentAdd += 100;
                            if (cb.value === '毁灭之源2S') ornamentAdd += 50;
                        }
                    });
                    // 额外选项处理
                    let extraAdd = 0;
                    // 3x3保险箱
                    if (safeCheckbox && safeCheckbox.checked) {
                        const safeVal = parseFloat(safeValueInput.value);
                        if (!isNaN(safeVal) && safeVal > 0) {
                            extraAdd += safeVal;
                        }
                    }
                    // 满级60级（且没有刀皮红皮）
                    if (max60Checkbox && max60Checkbox.checked) {
                        // 没有刀皮
                        let hasKnife = false;
                        document.querySelectorAll('.knife-checkbox').forEach(cb => {
                            if (cb.checked) hasKnife = true;
                        });
                        // 没有红皮（红狼-蚀金玫瑰）
                        let hasRed = false;
                        document.querySelectorAll('.character-checkbox').forEach(cb => {
                            if (cb.checked && cb.value === '红狼-蚀金玫瑰') hasRed = true;
                        });
                        if (!hasKnife && !hasRed) {
                            if (range === '15-50') {
                                extraAdd += 100;
                            } else if (range === '50-100' || range === '100+') {
                                extraAdd += 60;
                            }
                        }
                    }
                    const total = price + specialAdd + ornamentAdd + extraAdd;
                    result.textContent = `估算价格：${total.toFixed(2)} 元`;
                }
            } else {
                result.textContent = '估算价格：0 元';
            }
        }

        function updateInputRange() {
            const range = valueRange.value;
            if (range === '15-50') {
                exactValue.min = 15;
                exactValue.max = 50;
                exactValue.placeholder = '15-50M';
            } else if (range === '50-100') {
                exactValue.min = 50;
                exactValue.max = 100;
                exactValue.placeholder = '50-100M';
            } else if (range === '100+') {
                exactValue.min = 100;
                exactValue.removeAttribute('max');
                exactValue.placeholder = '100M及以上';
            }
            // 若当前值不在区间内，清空输入
            if (exactValue.value) {
                const v = parseFloat(exactValue.value);
                if ((range === '15-50' && (v < 15 || v > 50)) ||
                    (range === '50-100' && (v < 50 || v > 100)) ||
                    (range === '100+' && v < 100)) {
                    exactValue.value = '';
                }
            }
            updateEstimate();
        }

        valueRange.addEventListener('change', () => {
            updateInputRange();
        });
        exactValue.addEventListener('input', updateEstimate);
        // 监听皮肤勾选框
        document.querySelectorAll('.skin-checkbox').forEach(cb => {
            cb.addEventListener('change', updateEstimate);
        });
        // 监听刀皮勾选框
        document.querySelectorAll('.knife-checkbox').forEach(cb => {
            cb.addEventListener('change', updateEstimate);
        });
        // 监听人物皮肤勾选框
        document.querySelectorAll('.character-checkbox').forEach(cb => {
            cb.addEventListener('change', updateEstimate);
        });
        // 监听特勤处多选框
        document.querySelectorAll('.special-checkbox').forEach(cb => {
            cb.addEventListener('change', updateEstimate);
        });
        // 监听典藏挂饰勾选框
        document.querySelectorAll('.ornament-checkbox').forEach(cb => {
            cb.addEventListener('change', updateEstimate);
        });
        // 新增额外选项监听
        if (safeCheckbox) {
            safeCheckbox.addEventListener('change', function() {
                if (safeCheckbox.checked) {
                    safeValueGroup.style.display = '';
                } else {
                    safeValueGroup.style.display = 'none';
                    safeValueInput.value = '';
                }
                updateEstimate();
            });
        }
        if (safeValueInput) {
            safeValueInput.addEventListener('input', updateEstimate);
        }
        if (max60Checkbox) {
            max60Checkbox.addEventListener('change', updateEstimate);
        }
        // 初始化
        updateInputRange();
    </script>
</body>
</html> 